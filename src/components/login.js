import { Link,useNavigate } from "react-router-dom";
import { useState,useEffect } from 'react';
import { useUserContext } from "./UserProvider";
import spoonImage from '../Img/spoon.png';
import forkImage from '../Img/fork.png';
import dishImage from '../Img/dish.png';

export default function Login({setMoveBoolean}) {
    const { userData, setUserData } = useUserContext() || {}; 
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [name,setName] = useState(userData.name || '');
    const [dishMove,setDishMove] = useState(false);
    const navigate = useNavigate();

    const handleLogin = () => {
        if (userData && userData.email === email && userData.password === password) {
            setUserData({ email, password,name });
            navigate("map")
        } else {
            alert('이메일 또는 비밀번호가 잘못되었습니다.');
        }
    }

    useEffect(() => {
      setMoveBoolean(false);
    },[])

    const changeBtn = () => {
        setMoveBoolean(true);
    }

    return (
        <div className="login-bg-box">
            <div className="left-login-bg">
            <div className={`spoonImg2 ${setMoveBoolean ? "moveSpoon2" : ""}`}>
            <svg id="_레이어_2" data-name="레이어 2" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 410 129">
  <g id="_레이어_2-2" data-name=" 레이어 2">
    <g>
      <path d="M86.1,1c28.5,3.6,51.2,15.9,63.4,43.3.9,2.1,2,2.4,4.2,2.2,41.2-3.9,82.5-7.7,123.7-11.5,29.8-2.8,59.6-5.8,89.4-8.7,19.1-1.8,36,9.6,41.5,27.9.4,1.3-.2,3.1,1.6,3.8v13c-2.4,5.3-3.6,11.2-7.3,16-9.6,12.5-22.3,17.4-37.7,15.7-32.4-3.6-64.8-7.2-97.2-10.9-37.2-4.2-74.3-8.5-111.5-12.7-2.4-.3-4.1-.4-5.3,2.7-9.7,26-29.9,39.2-55.9,45-2.9.6-5.9.8-8.9,1.2-6,1.3-12.1-.5-18.1.9h-2c-8-1.1-16-2.4-23.5-5.6-18-7.7-31.5-19.9-39.7-37.9C.8,81,1.1,76.4,0,72v-2C.8,65.7.8,61.3,0,57v-1C3.9,30.8,20.2,16.1,42.2,6.2,50.8,2.3,59.8.4,69.2.6c5.6.3,11.3-.5,16.8.4h0Z" fill="#fff" stroke-width="0"/>
      <path d="M68,1V.1h18v.9h-18.1,0Z" fill="#fff" stroke-width="0"/>
      <path d="M68.1,128.9c5.9-2.2,12.1-.4,18.1-.9-.2.3-.2.6,0,.9h-18.1Z" fill="#fff" stroke-width="0"/>
      <path d="M0,57c1.7,4.3,1.5,8.7,0,13v-13Z" fill="#fff" stroke-width="0"/>
      <path d="M76.3,11c21.4,0,38.8,6.9,53.1,21.1,4.8,4.7,8.1,10.5,10.8,16.6,2.6,6,7.1,8.5,13.8,8.1,18.1-1.1,36-3.6,54.1-5,25.2-1.8,50.2-5.4,75.4-7.3,17.1-1.3,34-3.8,51.1-4.6,10.6-.5,21.2-2,31.7-3.3,16.1-2,30.5,8.6,32.8,24.3,2.7,18.1-14.2,34.2-32.8,31.8-22.9-2.9-45.8-5.1-68.7-7.8-18.6-2.2-37.2-5-55.9-6.7-16.6-1.4-33-3.9-49.5-5.3-10.7-.9-21.4-2.4-32.2-3.6-3.6-.4-7.3-1-10.9,0-3.8,1-6.2,3.6-7.5,7.3-5.4,16.4-16.6,27.3-32.2,34.4-25.4,11.5-50.4,9.8-73.6-4.7-17.2-10.8-28.1-26.6-24.8-48.3,2.3-15.3,11.4-26.5,24.2-34.8,5.1-3.3,10.6-5.9,16.3-8.2,8.4-3.3,17.1-3.6,24.7-4h0Z" fill="#f5d24a" stroke-width="0"/>
    </g>
  </g>
</svg>
            </div>
            <div className={`forkImg2  ${setMoveBoolean ? "moveFork2" : ""}`}>
            <svg id="_레이어_1" data-name="레이어 1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 410 129">
  <g id="_레이어_4" data-name=" 레이어 4">
    <g>
      <path d="M.5,17.4v-6.9C2.4,2.8,4.2,1.4,12,1h77c1.8,0,3.6.5,5.4-.5h3c9.4.8,18.3,3,26.3,8.1,12,7.6,21.2,17.6,26.6,30.7,1.8,4.3,4.3,5.7,8.8,5.2,36.4-3.9,72.8-7,109.2-10.5,32.4-3.1,64.9-6.3,97.3-9,17.8-1.5,31.8,5.1,41,20.8,2.5,4.2,2.3,8.8,3.3,13.3v12.9c-1.7,10.2-6.5,18.6-15.2,24.5-9,6.1-18.9,8.4-29.8,7.3-31.7-3.4-63.4-7.1-95.1-10.6-27.7-3.1-55.5-6-83.2-9.4-9.6-1.2-19.2-1.8-28.7-3.1-2.5-.3-4.1.6-5.1,2.9-.9,2.1-1.7,4.3-2.6,6.4-7.9,17.5-20.7,29.7-39,36-4.8,1.6-9.7,2.1-14.7,2H12.2c-7.2-.3-9.8-2.4-11.6-9.4v-6.9c2.7-8.2,5.7-10.4,14.5-10.4h55.8c3.3,0,6.7,0,9.8-1.3,4.6-1.7,7.5-5.7,7.5-10.1s-2.9-8.4-7.5-10.1c-3.2-1.2-6.5-1.3-9.8-1.3H15.1c-8.9,0-11.8-2.2-14.5-10.4v-6.9c1.1-6.4,5.4-9.5,11.4-10.8,2.8-.6,5.6-.6,8.4-.6h54.8c3,0,6.1,0,8.6-1.9,3.4-2.6,5.2-6.1,4.3-10.4-1-4.8-4.4-7.6-9-9-2.3-.6-4.6-.5-6.9-.5H14.9c-8.1-.2-11.7-2.8-14.2-10.4l-.2-.2Z" fill="white" stroke-width="0"/>
      <path d="M97.4,127.6c-.2.3-.2.6,0,1H10.5c-.3-.2-.4-.3-.3-.5,0-.2.1-.3.2-.3h87v-.2Z" fill="white" stroke-width="0"/>
      <path d="M94.3.5c-.6,1.1-1.6,1-2.6,1-27.2,0-54.3-.1-81.5-.2-.2-.4-.1-.6.2-.8,0,0,83.9,0,83.9,0Z" fill="white" stroke-width="0"/>
      <path d="M54.8,10.8c11,.3,24.7-.3,38.5.5,15.4.8,27.5,7.6,37.1,19.1,4.8,5.7,8.7,11.9,10.9,19.2,1.4,4.7,6.7,7.4,12,6.9,17.2-1.5,34.4-3.3,51.6-4.7,17.9-1.4,35.7-3.6,53.5-4.9,21.3-1.5,42.6-4.1,63.9-6.2,15.5-1.5,31-3.4,46.6-4.3,11.1-.6,20.2,4,26.2,13.9,6.2,10.2,5.8,20.1-1,29.7-6.7,9.5-16,13.5-27.6,12.2-25.6-2.8-51.1-5.2-76.6-8.5-18.4-2.4-36.9-4.3-55.3-6.4-16.6-1.9-33.2-4.2-50-5.4-9.9-.7-19.7-3-29.7-3.2-7.2,0-10.5,1.5-12.7,8.4-3.7,11.3-9.4,21.2-19,28.8-10.4,8.2-22.2,12-35.4,12H16.4c-1,0-2,0-3-.2-1.4-.3-2.6-1.3-2.6-2.5s1.5-1.8,2.5-2.1c1.4-.4,2.9-.4,4.4-.4,19.1,0,38.3,0,57.4,0,7.2,0,14.1-1.7,19.3-7.5,9.7-11,5.9-32.4-9.2-36.2-3.7-.9-7.4-1.8-11.2-1.8H16.1c-2.3,0-5.1-.4-5.1-2.7s2.9-2.6,5.2-2.6h57.9c4.2,0,8.3-.5,12.2-2,10.8-4.1,14.6-13.6,13.4-23-1.7-13.8-9.7-20.4-23-20.4-18.3-.1-36.6,0-54.9,0h-5c-2.3,0-5.5.3-5.5-2.7s3.4-2.8,5.5-2.8c11.6-.1,23.3,0,37.8,0l.2-.2Z" fill="white" stroke-width="0"/>
    </g>
  </g>
</svg>          
            </div>  
            <div className={`dishBox  ${setMoveBoolean ? "movedish" : ""}`}>
            <svg className="dish" data-name="레이어 1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 727 727">
  <path d="M4.2,316.5c.1-.8,0-1.6-.1-2.5-2.3,1.6-1.9,4.1-2,6.3-.2,5.3-.2,10.6-2,15.6v55c2.1,4.7,1.8,9.7,2,14.6.1,2.3-.3,4.8,2,6.3-.5-5.4-.9-10.9-1.4-16.3-2.7-26.5-2.1-52.8,1.6-79.2Z" fill="#fff" stroke-width="0"/>
  <path d="M355,726.9h15c.7-.7,1.3-1.3,2-2-6.3,0-12.7,0-19,0l2,2Z" fill="#fff" stroke-width="0"/>
  <path d="M705.7,248.4c-7.7-22.6-17.4-44.4-29.3-65.1-23.9-41.5-54.9-76.9-92.7-106.3-33.8-26.4-71.3-46-112.1-58.9-25.2-8-51-13.4-77.5-15.5-39.7-3.1-78.7-.6-117.3,9.2-22.2,5.7-43.8,13-64.7,22.5-50.7,23.1-93.6,56.6-129,99.4-24.6,29.7-43.9,62.6-57.8,98.7-10.2,26.4-17.5,53.6-21.3,81.7,1.6,1.6,1.3,3.7,1.1,5.7-1.8,16.9-2.8,33.8-2.7,50.8,0,11.7,1.9,23.2,2.6,34.8.1,2.3.9,4.7-1,6.6,2.8,22.3,8.3,44,15.3,65.3,7.5,22.7,17.4,44.4,29.2,65.1,16.2,28.4,36,54.2,59.2,77.2,32.3,32.1,69.5,57.4,111.4,75.5,17.3,7.5,35.1,13.8,53.5,18.3,11.1,2.7,22.2,5.6,33.6,7.3,15.5,2.2,31,4,46.7,4.2,6.3-2.5,12.7-2.5,19,0,14.8-.4,29.5-1.9,44.2-3.9,18.2-2.4,35.9-7.1,53.3-12.3,21.4-6.4,42.1-15.1,61.8-25.7,36.5-19.7,69-44.5,97.2-75.1,20.4-22.1,37.8-46.3,52.1-72.6,13.4-24.8,24-50.8,31.2-78.2,6.3-23.7,10.7-47.7,12.1-72.2,2.6-46.7-3.2-92.2-18.2-136.6ZM362.4,639.7c-153.5-.2-276.6-124-276.3-276.9.3-153.8,123.6-275.7,276.9-276.6,153.9,1.1,276.5,124.6,276.3,277.1-.2,153.7-124.8,276.6-276.9,276.4Z" fill="#fff" stroke-width="0"/>
  <path d="M5.1,405.4c-.7-11.6-2.5-23.1-2.6-34.8-.1-17,.9-33.9,2.7-50.8.2-2,.5-4-1.1-5.7,0,.8.2,1.7.1,2.5-3.6,26.3-4.3,52.7-1.6,79.2.6,5.4,1,10.9,1.4,16.3,1.9-2,1.1-4.3,1-6.6Z" fill="#fff" stroke-width="0"/>
  <path d="M353,724.9c6.3,0,12.7,0,19,0-6.3-2.5-12.7-2.5-19,0Z" fill="#fff" stroke-width="0"/>
  <path d="M362.5,132.7c-128.2,0-230.2,102.1-230.2,230.3,0,127.8,101.7,229.3,230.1,230.7,127.4-1.1,230.4-101.5,230.6-230.4.2-128.6-102.3-230.7-230.5-230.6Z" fill="#fff" stroke-width="0"/>
</svg>
</div>
            <div className="left_TextBox">
            <h3>당신이 찾는 부산의 모든 맛집, MyFood</h3>
            </div>
            </div>
            <div className="login-bg">
                <div className="container">
                    <div>
                        <h1 className="container_title"><svg className="foodIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 192c0-35.3 28.7-64 64-64c.5 0 1.1 0 1.6 0C73 91.5 105.3 64 144 64c15 0 29 4.1 40.9 11.2C198.2 49.6 225.1 32 256 32s57.8 17.6 71.1 43.2C339 68.1 353 64 368 64c38.7 0 71 27.5 78.4 64c.5 0 1.1 0 1.6 0c35.3 0 64 28.7 64 64c0 11.7-3.1 22.6-8.6 32H8.6C3.1 214.6 0 203.7 0 192zm0 91.4C0 268.3 12.3 256 27.4 256H484.6c15.1 0 27.4 12.3 27.4 27.4c0 70.5-44.4 130.7-106.7 154.1L403.5 452c-2 16-15.6 28-31.8 28H140.2c-16.1 0-29.8-12-31.8-28l-1.8-14.4C44.4 414.1 0 353.9 0 283.4z"/></svg>myFood</h1>
                    </div>
                    <div className="inputBox">
                        <input type="text" value={email} onChange={(e) => setEmail(e.target.value)} placeholder="이메일을 입력해주세요." />
                        <input type="password" value={password} onChange={(e) => setPassword(e.target.value)} placeholder="비밀번호를 입력해주세요." />
                    </div>
                    <div className="memberBox">
                        <Link to="signUp" style={{ textDecoration: 'none'}}><button onClick={changeBtn} className="memberText2">회원이 아니신가요?</button></Link>
                        <button onClick={handleLogin} className="loginBtn">LOGIN</button>
                    </div>

                </div>
            </div>
</div>
    
    )
}